{
    "info": {
        "_postman_id": "e3f4a5b6-c7d8-e9f0-a1b2-c3d4e5f6g7h8",
        "name": "EMDR Combined System (Orders & Reviews)",
        "description": "Unified collection containing both the Professional Review System and the New Order endpoints:\n- GET /orders/all (List all my orders)\n- GET /orders/:orderId (Get specific order details)\n- Review System CRUD & Analytics",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "item": [
        {
            "name": "Orders",
            "item": [
                {
                    "name": "1. Get All My Orders",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{userToken}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/orders/all?page=1&limit=10",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "orders",
                                "all"
                            ],
                            "query": [
                                {
                                    "key": "page",
                                    "value": "1"
                                },
                                {
                                    "key": "limit",
                                    "value": "10"
                                },
                                {
                                    "key": "status",
                                    "value": "completed",
                                    "disabled": true
                                }
                            ]
                        },
                        "description": "Fetch all orders for the logged-in user (Customer or Provider)."
                    },
                    "response": []
                },
                {
                    "name": "2. Get Order Details",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{userToken}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/orders/{{orderId}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "orders",
                                "{{orderId}}"
                            ]
                        },
                        "description": "Fetch full details of a specific order by its custom ID (ORD-...) or Mongo ID."
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Reviews",
            "item": [
                {
                    "name": "1. Submit Review",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{customerToken}}",
                                "type": "text"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"orderId\": \"{{orderId}}\",\n    \"rating\": 5,\n    \"comment\": \"Perfect service!\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{baseUrl}}/reviews",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "reviews"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "2. Reply to Review",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{providerToken}}",
                                "type": "text"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"comment\": \"Thanks for the high rating!\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{baseUrl}}/reviews/{{reviewId}}/reply",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "reviews",
                                "{{reviewId}}",
                                "reply"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "3. Get Provider Stats",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/reviews/stats/{{providerId}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "reviews",
                                "stats",
                                "{{providerId}}"
                            ]
                        }
                    },
                    "response": []
                }
            ]
        }
    ],
    "variable": [
        {
            "key": "baseUrl",
            "value": "http://localhost:5000/api/v1",
            "type": "string"
        },
        {
            "key": "userToken",
            "value": "PASTE_JWT_HERE",
            "type": "string"
        },
        {
            "key": "customerToken",
            "value": "PASTE_CUSTOMER_JWT_HERE",
            "type": "string"
        },
        {
            "key": "providerToken",
            "value": "PASTE_PROVIDER_JWT_HERE",
            "type": "string"
        },
        {
            "key": "orderId",
            "value": "ORD-...",
            "type": "string"
        },
        {
            "key": "reviewId",
            "value": "MONGO_ID",
            "type": "string"
        },
        {
            "key": "providerId",
            "value": "MONGO_ID",
            "type": "string"
        }
    ]
}