{
    "info": {
        "_postman_id": "socket-io-chat-events-v1",
        "name": "Socket.IO Chat Payloads (Reference)",
        "description": "This collection contains the **JSON Payloads** required for the Socket.IO Chat System.\n\n### How to use in Postman:\n1. Open Postman \n2. Click 'New' > **'Socket.IO Request'**\n3. Enter URL: `http://localhost:5000`\n4.  **Settings** > **Handshake Auth**:\n    - Key: `token`\n    - Value: `Bearer <YOUR_JWT_TOKEN>`\n5. Connect\n6. Use the **Events** and **JSON Bodies** defined below to interact.",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "item": [
        {
            "name": "1. [EMIT] join_room",
            "request": {
                "method": "POST",
                "header": [],
                "body": {
                    "mode": "raw",
                    "raw": "{\n    \"targetUserId\": \"REPLACE_WITH_TARGET_USER_ID\"\n}",
                    "options": {
                        "raw": {
                            "language": "json"
                        }
                    }
                },
                "url": {
                    "raw": "Event Name: join_room",
                    "protocol": "Event Name",
                    "host": [
                        "join_room"
                    ]
                },
                "description": "**Event Name:** `join_room`\n\n**Description:** \nInitiates a chat session with another user. Returns the `roomId` and last 50 messages history.\n\n**Payload:**\n```json\n{\n    \"targetUserId\": \"<USER_ID_OF_PROVIDER_OR_CUSTOMER>\"\n}\n```\n\n**Ack/Response:**\n```json\n{\n    \"status\": \"ok\",\n    \"roomId\": \"<CHAT_ROOM_ID>\",\n    \"messages\": [...] \n}\n```"
            },
            "response": []
        },
        {
            "name": "2. [EMIT] send_message",
            "request": {
                "method": "POST",
                "header": [],
                "body": {
                    "mode": "raw",
                    "raw": "{\n    \"chatRoomId\": \"REPLACE_WITH_ROOM_ID_FROM_JOIN_EVENT\",\n    \"content\": \"Hello, this is a real-time message!\"\n}",
                    "options": {
                        "raw": {
                            "language": "json"
                        }
                    }
                },
                "url": {
                    "raw": "Event Name: send_message",
                    "protocol": "Event Name",
                    "host": [
                        "send_message"
                    ]
                },
                "description": "**Event Name:** `send_message`\n\n**Description:** \nSends a message to a specific room. The server will save it and broadcast it to the room.\n\n**Payload:**\n```json\n{\n    \"chatRoomId\": \"<ROOM_ID>\",\n    \"content\": \"Hello World!\"\n}\n```"
            },
            "response": []
        },
        {
            "name": "3. [EMIT] typing",
            "request": {
                "method": "POST",
                "header": [],
                "body": {
                    "mode": "raw",
                    "raw": "{\n    \"chatRoomId\": \"REPLACE_WITH_ROOM_ID\"\n}",
                    "options": {
                        "raw": {
                            "language": "json"
                        }
                    }
                },
                "url": {
                    "raw": "Event Name: typing",
                    "protocol": "Event Name",
                    "host": [
                        "typing"
                    ]
                },
                "description": "**Event Name:** `typing`\n\n**Description:** \nNotifies other participants in the room that this user is typing."
            },
            "response": []
        },
        {
            "name": "4. [EMIT] stop_typing",
            "request": {
                "method": "POST",
                "header": [],
                "body": {
                    "mode": "raw",
                    "raw": "{\n    \"chatRoomId\": \"REPLACE_WITH_ROOM_ID\"\n}",
                    "options": {
                        "raw": {
                            "language": "json"
                        }
                    }
                },
                "url": {
                    "raw": "Event Name: stop_typing",
                    "protocol": "Event Name",
                    "host": [
                        "stop_typing"
                    ]
                },
                "description": "**Event Name:** `stop_typing`\n\n**Description:** \nNotifies other participants that typing has stopped."
            },
            "response": []
        },
        {
            "name": "5. [LISTEN] receive_message",
            "request": {
                "method": "GET",
                "header": [],
                "url": {
                    "raw": "Event Name: receive_message",
                    "protocol": "Event Name",
                    "host": [
                        "receive_message"
                    ]
                },
                "description": "**Event Name:** `receive_message`\n\n**Description:** \nListen for this event to receive incoming messages from other users.\n\n**Payload Received:**\n```json\n{\n    \"_id\": \"...\",\n    \"content\": \"Hello World!\",\n    \"sender\": { ... },\n    \"createdAt\": \"...\"\n}\n```"
            },
            "response": []
        },
        {
            "name": "6. [LISTEN] notification",
            "request": {
                "method": "GET",
                "header": [],
                "url": {
                    "raw": "Event Name: notification",
                    "protocol": "Event Name",
                    "host": [
                        "notification"
                    ]
                },
                "description": "**Event Name:** `notification`\n\n**Description:** \nListen for this event globaly (even outside chat) to get toast alerts (e.g. \"New Message\")."
            },
            "response": []
        }
    ]
}